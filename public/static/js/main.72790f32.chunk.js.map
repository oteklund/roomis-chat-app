{"version":3,"sources":["components/pages/rooms/room/RoomHeader.js","components/pages/rooms/room/RoomMessageArea.js","components/pages/rooms/room/ChatPanel.js","components/pages/rooms/room/RoomView.js","services/authClient.js","Auth.js","components/pages/landing/Landing.js","components/pages/landing/Login.js","services/userClient.js","components/pages/landing/Register.js","components/pages/rooms/RoomItem.js","components/pages/rooms/RoomList.js","services/roomService.js","components/pages/rooms/CreateRoom.js","components/pages/rooms/Header.js","components/pages/rooms/Rooms.js","components/ProtectedRoute.js","App.js","serviceWorker.js","index.js"],"names":["useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","MenuAppBar","props","classes","React","useState","auth","anchorEl","setAnchorEl","open","Boolean","className","AppBar","position","style","backgroundColor","boxShadow","Toolbar","IconButton","edge","color","aria-label","onClick","history","push","Typography","variant","match","params","name","aria-controls","aria-haspopup","event","currentTarget","Menu","id","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","localStorage","removeItem","container","bottom","bubbleContainer","width","display","bubble","border","borderRadius","margin","padding","large","height","RoomMessageArea","textField","setTextField","messageHistory","setMessageHistory","socket","useEffect","emit","user","room","on","msg","chatAlignment","unshift","message","author","alignment","document","getElementById","innerHTML","updateScroll","off","send","trim","window","scrollTo","querySelector","scrollHeight","overflow","paddingBottom","paddingTop","Avatar","alt","TextField","label","placeholder","multiline","rows","value","onChange","e","target","onKeyPress","key","preventDefault","handleKeyPress","Button","type","RoomView","io","loginUser","a","Axios","post","response","data","token","console","error","isAuthenticated","getItem","config","headers","Authorization","get","status","username","Auth","isAuth","bool","buttonStyle","Landing","loginStatus","setLoginStatus","checkAndUpdateLoginStatus","to","textDecoration","Login","setUsername","password","setPassword","handleSubmit","setItem","Swal","fire","Paper","elevation","background","onSubmit","autoComplete","spellCheck","justifyContent","marginTop","registerUser","log","Register","email","setEmail","password2","setPassword2","maxWidth","media","content","RoomItem","Card","CardActionArea","CardMedia","image","CardContent","gutterBottom","component","description","RoomList","allRooms","this","rooms","map","index","Component","apiUrl","getAllRooms","axios","res","postRooms","newroom","then","CreateRoom","state","nameAdded","setState","descriptionAdded","ready","isReady","minHeight","flexDirection","alignItems","noValidate","Header","marginBottom","Rooms","componentDidMount","createRoom","ProtectedRoute","rest","setIsAuth","checkAuth","render","err","App","exact","path","location","hostname","ReactDOM","navigator","serviceWorker","registration","unregister","catch"],"mappings":"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","file":"static/js/main.72790f32.chunk.js","sourcesContent":["import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(3)\r\n  },\r\n  title: {\r\n    flexGrow: 1\r\n  }\r\n}));\r\n\r\nexport default function MenuAppBar(props) {\r\n  const classes = useStyles();\r\n  const [auth, setAuth] = React.useState(true);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleMenu = event => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    props.history.push('/');\r\n  };\r\n  const goBack = () => {\r\n    props.history.push('/rooms');\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar\r\n        position='fixed'\r\n        style={{\r\n          backgroundColor: 'white',\r\n          boxShadow: '2px 10px 57px -12px rgba(171,171,171,0.39)'\r\n        }}\r\n      >\r\n        <Toolbar>\r\n          <IconButton\r\n            edge='start'\r\n            className={classes.menuButton}\r\n            style={{ color: 'black' }}\r\n            aria-label='back'\r\n            onClick={goBack}\r\n          >\r\n            <i className='fas fa-angle-left'></i>\r\n          </IconButton>\r\n          <Typography\r\n            variant='h6'\r\n            className={classes.title}\r\n            style={{ color: 'black' }}\r\n          >\r\n            {props.match.params.name}\r\n          </Typography>\r\n          {auth && (\r\n            <div>\r\n              <IconButton\r\n                aria-label='account of current user'\r\n                aria-controls='menu-appbar'\r\n                aria-haspopup='true'\r\n                onClick={handleMenu}\r\n                style={{ color: 'black' }}\r\n              >\r\n                <AccountCircle />\r\n              </IconButton>\r\n              <Menu\r\n                id='menu-appbar'\r\n                anchorEl={anchorEl}\r\n                anchorOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right'\r\n                }}\r\n                keepMounted\r\n                transformOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right'\r\n                }}\r\n                open={open}\r\n                onClose={handleClose}\r\n              >\r\n                <MenuItem onClick={handleLogout}>Log Out</MenuItem>\r\n              </Menu>\r\n            </div>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport ChatPanel from './ChatPanel';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    '& .MuiTextField-root': {\r\n      margin: theme.spacing(1),\r\n      width: 200\r\n    },\r\n    display: 'flex',\r\n    '& > *': {\r\n      margin: theme.spacing(1)\r\n    },\r\n    large: {\r\n      width: theme.spacing(10),\r\n      height: theme.spacing(10)\r\n    }\r\n  }\r\n}));\r\n\r\nconst RoomMessageArea = props => {\r\n  const [textField, setTextField] = useState('');\r\n  const [messageHistory, setMessageHistory] = useState([]);\r\n  const socket = props.socket;\r\n\r\n  // console.log(props.user)\r\n\r\n  useEffect(() => {\r\n    socket\r\n      .emit('join', props.user, props.room)\r\n      .on('getChatHistory', () => {})\r\n      .on('new message', (msg, user) => {\r\n        let chatAlignment;\r\n        user === props.user\r\n          ? (chatAlignment = 'right')\r\n          : (chatAlignment = 'left');\r\n        setMessageHistory(\r\n          messageHistory.unshift({\r\n            message: msg,\r\n            author: user,\r\n            alignment: chatAlignment\r\n          })\r\n        );\r\n        document.getElementById(\r\n          'chat-panel'\r\n        ).innerHTML += `<li style=\"list-style: none;\" class=${messageHistory[0].alignment}>${messageHistory[0].author}: ${messageHistory[0].message}`;\r\n        updateScroll();\r\n      })\r\n      .off('disconnect');\r\n  }, []);\r\n\r\n  const send = () => {\r\n    if (textField.trim() === '') {\r\n      return;\r\n    } else {\r\n      socket.emit('message', textField, props.room, props.user);\r\n      setTextField('');\r\n    }\r\n  };\r\n\r\n  const classes = useStyles();\r\n\r\n  const handleKeyPress = e => {\r\n    if (e.key === 'Enter') {\r\n      e.preventDefault();\r\n      send();\r\n    }\r\n  };\r\n\r\n  const updateScroll = () => {\r\n    window.scrollTo(0, document.querySelector('.chat').scrollHeight);\r\n  };\r\n\r\n  return (\r\n    <div className='chat' style={{ overflow: 'auto' }}>\r\n      <ul\r\n        id='chat-panel'\r\n        style={{ paddingBottom: '190px', paddingTop: '65px' }}\r\n      >\r\n        {/* <ChatPanel className=\"chatPanel\" messages={messageHistory} /> */}\r\n      </ul>\r\n      <footer>\r\n        <Avatar alt='Remy Sharp' className={classes.large} />\r\n        <TextField\r\n          className='message'\r\n          id='outlined-textarea'\r\n          label='Your message'\r\n          placeholder='Say Hey!'\r\n          multiline\r\n          rows='5'\r\n          variant='outlined'\r\n          value={textField}\r\n          onChange={e => setTextField(e.target.value)}\r\n          onKeyPress={e => handleKeyPress(e)}\r\n        />\r\n        <Button\r\n          className='SendMessageButton'\r\n          variant='contained'\r\n          type='submit'\r\n          color='primary'\r\n          onClick={send}\r\n        >\r\n          Send\r\n        </Button>\r\n      </footer>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoomMessageArea;\r\n","import React from 'react';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  container: {\r\n    bottom: 0\r\n    // position: \"fixed\" // remove this so we can apply flex design\r\n  },\r\n  bubbleContainer: {\r\n    width: '100%',\r\n    display: 'flex'\r\n  },\r\n  bubble: {\r\n    border: '0.5px solid black',\r\n    borderRadius: '10px',\r\n    margin: '5px',\r\n    padding: '10px',\r\n    display: 'inline-block'\r\n  }\r\n}));\r\n\r\nconst ChatPanel = props => {\r\n  const classes = useStyles();\r\n  const dummyData = [\r\n    {\r\n      message: '1: This should be left',\r\n      direction: 'left'\r\n    },\r\n    {\r\n      message: '2: This should be right',\r\n      direction: 'right'\r\n    },\r\n    {\r\n      message: '3: This should be left again',\r\n      direction: 'left'\r\n    },\r\n    {\r\n      message: '1: This should be left',\r\n      direction: 'left'\r\n    },\r\n    {\r\n      message: '2: This should be right',\r\n      direction: 'right'\r\n    },\r\n    {\r\n      message: '3: This should be left again',\r\n      direction: 'left'\r\n    },\r\n    {\r\n      message: '1: This should be left',\r\n      direction: 'left'\r\n    },\r\n    {\r\n      message: '2: This should be right',\r\n      direction: 'right'\r\n    },\r\n    {\r\n      message: '2: This should be right',\r\n      direction: 'right'\r\n    },\r\n    {\r\n      message: '3: This should be left again',\r\n      direction: 'left'\r\n    },\r\n    {\r\n      message: '1: This should be left',\r\n      direction: 'left'\r\n    },\r\n    {\r\n      message: '2: This should be right',\r\n      direction: 'right'\r\n    },\r\n    {\r\n      message: '3: This should be left again',\r\n      direction: 'left'\r\n    },\r\n    {\r\n      message: '4: This should be right again',\r\n      direction: 'right'\r\n    }\r\n  ];\r\n  const messages = props.messages;\r\n  console.log(messages);\r\n\r\n  const chatBubbles = dummyData.map((obj, i = 0) => (\r\n    <div className={`${classes.bubbleContainer} ${obj.direction}`} key={i}>\r\n      <div key={i++} className={classes.bubble}>\r\n        <div className={classes.button}>{obj.message}</div>\r\n      </div>\r\n    </div>\r\n  ));\r\n  return <div className={classes.container}>{chatBubbles}</div>;\r\n};\r\n\r\nexport default ChatPanel;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport RoomHeader from './RoomHeader';\r\nimport RoomMessageArea from './RoomMessageArea';\r\nimport io from 'socket.io-client';\r\n\r\nconst RoomView = props => {\r\n  // const classes = makeStyles();\r\n  const [value, setValue] = React.useState('Controlled');\r\n\r\n  const socket = io();\r\n\r\n  return (\r\n    <div>\r\n      <RoomHeader match={props.match} history={props.history} />\r\n      <footer>\r\n        <Avatar alt='Remy Sharp' />\r\n        <TextField\r\n          className='message'\r\n          id='outlined-textarea'\r\n          label='Your message'\r\n          placeholder='Say Hey!'\r\n          multiline\r\n          rows='5'\r\n          variant='outlined'\r\n        />\r\n        <Button\r\n          className='SendMessageButton'\r\n          variant='contained'\r\n          type='submit'\r\n          color='primary'\r\n        >\r\n          Send\r\n        </Button>\r\n      </footer>\r\n      <RoomMessageArea\r\n        room={props.match.params.name}\r\n        user={props.user}\r\n        socket={socket}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoomView;\r\n","import Axios from 'axios';\r\n\r\nconst loginURL = '/api/auth/login';\r\nconst authURL = '/api/auth/authenticate';\r\n\r\nexport const loginUser = async user => {\r\n  try {\r\n    let response = await Axios.post(loginURL, user);\r\n    return response.data.token;\r\n  } catch (err) {\r\n    console.error(err.message);\r\n  }\r\n};\r\n\r\nexport const isAuthenticated = async () => {\r\n  let token = localStorage.getItem('token');\r\n  if (!token) {\r\n    return [false, null];\r\n  } else {\r\n    let config = {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    };\r\n    try {\r\n      let response = await Axios.get(authURL, config);\r\n      if (response.status !== 401 || response.status !== 403) {\r\n        return [true, response.data.username];\r\n      } else {\r\n        return [false, null];\r\n      }\r\n    } catch (error) {\r\n      // If authentication fails\r\n      return [false, null];\r\n    }\r\n  }\r\n};\r\n","import { isAuthenticated } from './services/authClient';\r\n\r\nconst Auth = {\r\n  async isAuth() {\r\n    let bool = await isAuthenticated();\r\n    return bool;\r\n  }\r\n};\r\n\r\nexport default Auth;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Link, Redirect } from 'react-router-dom';\r\nimport { Typography, Button } from '@material-ui/core';\r\nimport './Landing.css';\r\nimport Auth from '../../../Auth';\r\n\r\nconst buttonStyle = {\r\n  margin: '1rem 0.3rem'\r\n};\r\n\r\nconst Landing = props => {\r\n  const [loginStatus, setLoginStatus] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const checkAndUpdateLoginStatus = async () => {\r\n      let status = await Auth.isAuth();\r\n      if (status[0] !== loginStatus) {\r\n        setLoginStatus(status[0]);\r\n      }\r\n    };\r\n    checkAndUpdateLoginStatus();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  if (loginStatus) {\r\n    return <Redirect to='/rooms' />;\r\n  } else {\r\n    return (\r\n      <div className='landing'>\r\n        <div className='landing-box'>\r\n          <Typography variant='h3'>Roomis</Typography>\r\n          <Typography variant='caption' style={{ color: '#fff' }}>\r\n            Chatting made easy\r\n          </Typography>\r\n          <span className='buttons'>\r\n            <Link to='/register' style={{ textDecoration: 'none' }}>\r\n              <Button\r\n                className='landing-button'\r\n                variant='contained'\r\n                color='primary'\r\n                style={buttonStyle}\r\n              >\r\n                Register\r\n              </Button>\r\n            </Link>\r\n            <Link to='/login' style={{ textDecoration: 'none' }}>\r\n              <Button\r\n                className='landing-button'\r\n                variant='contained'\r\n                color='primary'\r\n                style={buttonStyle}\r\n              >\r\n                Login\r\n              </Button>\r\n            </Link>\r\n          </span>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n};\r\n\r\nexport default Landing;\r\n","import React, { useState } from 'react';\r\nimport { loginUser } from '../../../services/authClient';\r\nimport { TextField, Paper, Button } from '@material-ui/core';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst Login = ({ history }) => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n    //Do something here\r\n    let token = await loginUser({ username, password });\r\n    if (token) {\r\n      localStorage.setItem('token', token);\r\n      history.push('/rooms');\r\n    } else {\r\n      Swal.fire('Invalid credentials!', '', 'error');\r\n      setUsername('');\r\n      setPassword('');\r\n    }\r\n  };\r\n  return (\r\n    <div className='landing'>\r\n      <Paper elevation={4} style={{ padding: '2rem', background: '#f4f4f4' }}>\r\n        <form onSubmit={handleSubmit}>\r\n          <div className='input-group'>\r\n            <TextField\r\n              label='Username'\r\n              autoComplete='off'\r\n              value={username}\r\n              onChange={e => setUsername(e.target.value)}\r\n              spellCheck='false'\r\n            />\r\n          </div>\r\n          <div className='input-group'>\r\n            <TextField\r\n              label='Password'\r\n              type='password'\r\n              autoComplete='off'\r\n              value={password}\r\n              onChange={e => setPassword(e.target.value)}\r\n              spellCheck='false'\r\n            />\r\n          </div>\r\n          <div\r\n            className='input-group'\r\n            style={{ display: 'flex', justifyContent: 'center' }}\r\n          >\r\n            <Button type='submit' style={{ marginTop: '1.5rem' }}>\r\n              Login\r\n            </Button>\r\n            <Button\r\n              type='button'\r\n              style={{ marginTop: '1.5rem' }}\r\n              onClick={() => history.push('/')}\r\n            >\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </Paper>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import Axios from 'axios';\r\n\r\nconst userApiURL = '/api/users';\r\n\r\nexport const registerUser = async user => {\r\n  try {\r\n    let response = await Axios.post(userApiURL, user);\r\n    console.log(response);\r\n    if (response.status === 200 || response.status === 201) {\r\n      return response.data;\r\n    } else {\r\n      return false;\r\n    }\r\n  } catch (err) {\r\n    console.error(err.message);\r\n  }\r\n};\r\n","import React, { useState } from 'react';\r\nimport { registerUser } from '../../../services/userClient';\r\nimport { TextField, Paper, Button } from '@material-ui/core';\r\nimport Swal from 'sweetalert2';\r\n\r\nconst Register = ({ history }) => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password2, setPassword2] = useState('');\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n\r\n    if (password !== password2) {\r\n      Swal.fire('Password inputs do not match!', '', 'error');\r\n      return;\r\n    } else {\r\n      let response = await registerUser({ username, password, email });\r\n      if (response) {\r\n        Swal.fire('Register successful, you can log in now!', '', 'success');\r\n        setUsername('');\r\n        setPassword('');\r\n        setPassword2('');\r\n        setEmail('');\r\n        history.push('/login');\r\n      } else {\r\n        Swal.fire('Username or email already taken!', '', 'error');\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className='landing'>\r\n      <Paper elevation={4} style={{ padding: '2rem', background: '#f4f4f4' }}>\r\n        <form onSubmit={handleSubmit} autoComplete='off'>\r\n          <div className='input-group'>\r\n            <TextField\r\n              type='text'\r\n              name='username'\r\n              label='Username'\r\n              value={username}\r\n              spellCheck='false'\r\n              onChange={e => setUsername(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className='input-group'>\r\n            <TextField\r\n              type='email'\r\n              name='email'\r\n              label='Email'\r\n              spellCheck='false'\r\n              value={email}\r\n              onChange={e => setEmail(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className='input-group'>\r\n            <TextField\r\n              type='password'\r\n              name='password'\r\n              label='Password'\r\n              spellCheck='false'\r\n              value={password}\r\n              onChange={e => setPassword(e.target.value)}\r\n            />\r\n          </div>\r\n          <div className='input-group'>\r\n            <TextField\r\n              type='password'\r\n              name='password2'\r\n              spellCheck='false'\r\n              label='Confirm password'\r\n              value={password2}\r\n              onChange={e => setPassword2(e.target.value)}\r\n            />\r\n          </div>\r\n          <div\r\n            className='input-group'\r\n            style={{ display: 'flex', justifyContent: 'center' }}\r\n          >\r\n            <Button type='submit' style={{ marginTop: '1.5rem' }}>\r\n              Register\r\n            </Button>\r\n            <Button\r\n              type='button'\r\n              style={{ marginTop: '1.5rem' }}\r\n              onClick={() => history.push('/')}\r\n            >\r\n              Cancel\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </Paper>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { Link } from 'react-router-dom';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    maxWidth: 345,\r\n    height: 280\r\n  },\r\n  media: {\r\n    height: 180\r\n  },\r\n  content: {\r\n    height: 100\r\n  }\r\n});\r\n\r\nexport default function RoomItem(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Card className={classes.root}>\r\n      <Link\r\n        to={`rooms/${props.room.name}`}\r\n        style={{ textDecoration: 'none', color: 'black' }}\r\n      >\r\n        <CardActionArea>\r\n          <CardMedia\r\n            className={classes.media}\r\n            image={`https://source.unsplash.com/featured/?${props.room.name}`}\r\n            title='Contemplative Reptile'\r\n          />\r\n          <CardContent className={classes.content}>\r\n            <Typography gutterBottom variant='h5' component='h2'>\r\n              {props.room.name}\r\n            </Typography>\r\n            <Typography variant='body2' color='textSecondary' component='p'>\r\n              {props.room.description}\r\n            </Typography>\r\n          </CardContent>\r\n        </CardActionArea>\r\n      </Link>\r\n    </Card>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport RoomItem from './RoomItem';\r\n\r\nclass RoomList extends Component {\r\n  render() {\r\n    const allRooms = this.props.rooms.map(function(room, index) {\r\n      return <RoomItem key={index} room={room} />;\r\n    });\r\n    return <div className='roomListClass'>{allRooms}</div>;\r\n  }\r\n}\r\n\r\nexport default RoomList;\r\n","import axios from 'axios';\r\nconst apiUrl = '/api/rooms/';\r\n\r\nasync function getAllRooms() {\r\n  let res = await axios.get(apiUrl);\r\n  return res.data;\r\n}\r\nasync function postRooms(newroom){\r\n    let response = await axios.post(apiUrl, newroom)\r\n    .then (res => {\r\n        return res.data;\r\n    })\r\n}\r\nexport { getAllRooms, postRooms };\r\n","import React, { Component } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n      width: 200\r\n    }\r\n  }\r\n}));\r\n//   const classes = useStyles();\r\n\r\nclass CreateRoom extends Component {\r\n  state = { name: '', description: '' };\r\n\r\n  nameAdded = event => {\r\n    this.setState({ name: event.target.value });\r\n  };\r\n  descriptionAdded = event => {\r\n    this.setState({ description: event.target.value });\r\n  };\r\n  ready = event => {\r\n    event.preventDefault();\r\n    this.props.isReady(this.state);\r\n    this.setState({ name: '', description: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div\r\n        style={{\r\n          margin: 'auto',\r\n          minHeight: '150px',\r\n          display: 'flex',\r\n          flexDirection: 'column',\r\n          alignItems: 'center',\r\n          justifyContent: 'center'\r\n        }}\r\n      >\r\n        <Typography variant='h5'>Create Chat room</Typography>\r\n        <form\r\n          noValidate\r\n          className='create-form'\r\n          autoComplete='off'\r\n          onSubmit={this.ready}\r\n          style={{\r\n            display: 'flex',\r\n            alignItems: 'center'\r\n          }}\r\n        >\r\n          <TextField\r\n            id='standard-basic'\r\n            label='Room name'\r\n            value={this.state.name}\r\n            onChange={this.nameAdded}\r\n            style={{ margin: '0.5rem' }}\r\n          />\r\n          <TextField\r\n            id='standard-basic'\r\n            label='Room description'\r\n            value={this.state.description}\r\n            onChange={this.descriptionAdded}\r\n            style={{ margin: '0.5rem', marginRight: '1rem' }}\r\n          />\r\n          <Button variant='contained' type='submit' color='primary'>\r\n            Create\r\n          </Button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default CreateRoom;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(3)\r\n  },\r\n  title: {\r\n    flexGrow: 1\r\n  }\r\n}));\r\n\r\nexport default function Header(props) {\r\n  const classes = useStyles();\r\n  const [auth, setAuth] = React.useState(true);\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    props.history.push('/');\r\n  };\r\n\r\n  const handleMenu = event => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar\r\n        position='static'\r\n        style={{\r\n          backgroundColor: 'white',\r\n          boxShadow: '2px 10px 57px -12px rgba(171,171,171,0.39)',\r\n          marginBottom: '1rem'\r\n        }}\r\n      >\r\n        <Toolbar>\r\n          <Typography\r\n            variant='h6'\r\n            className={classes.title}\r\n            style={{ color: 'black' }}\r\n          >\r\n            Logged in: {props.user}\r\n          </Typography>\r\n          {auth && (\r\n            <div>\r\n              <IconButton\r\n                aria-label='account of current user'\r\n                aria-controls='menu-appbar'\r\n                aria-haspopup='true'\r\n                onClick={handleMenu}\r\n                style={{ color: 'black' }}\r\n              >\r\n                <AccountCircle />\r\n              </IconButton>\r\n              <Menu\r\n                id='menu-appbar'\r\n                anchorEl={anchorEl}\r\n                anchorOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right'\r\n                }}\r\n                keepMounted\r\n                transformOrigin={{\r\n                  vertical: 'top',\r\n                  horizontal: 'right'\r\n                }}\r\n                open={open}\r\n                onClose={handleClose}\r\n              >\r\n                <MenuItem onClick={handleLogout}>Log Out</MenuItem>\r\n              </Menu>\r\n            </div>\r\n          )}\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport Roomlist from './RoomList';\r\nimport { getAllRooms, postRooms } from '../../../services/roomService';\r\nimport CreateRoom from './CreateRoom';\r\nimport { Button } from '@material-ui/core';\r\nimport Header from './Header';\r\n\r\nclass Rooms extends Component {\r\n  state = { rooms: [] };\r\n  componentDidMount = async () => {\r\n    let rooms = await getAllRooms(); // Kesken, vaatii toteutusta\r\n    this.setState({ rooms });\r\n  };\r\n  createRoom = async newroom => {\r\n    let response = await postRooms(newroom);\r\n    this.setState(this.state);\r\n    this.componentDidMount();\r\n  };\r\n\r\n  //   handleLogout = () => {\r\n  //     localStorage.removeItem('token');\r\n  //     this.props.history.push('/');\r\n  //   };\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Header history={this.props.history} user={this.props.user} />\r\n        {/* <Button onClick={this.handleLogout}>Log out</Button> */}\r\n        <CreateRoom isReady={this.createRoom} />\r\n        <Roomlist rooms={this.state.rooms} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Rooms;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport Auth from '../Auth';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\r\n  const [isAuth, setIsAuth] = useState([null]);\r\n  useEffect(() => {\r\n    async function checkAuth() {\r\n      let bool = await Auth.isAuth();\r\n      setIsAuth(bool);\r\n    }\r\n    checkAuth();\r\n  }, []);\r\n  if (isAuth[0] === true) {\r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render={props => {\r\n          return <Component {...props} user={isAuth[1]} />;\r\n        }}\r\n      ></Route>\r\n    );\r\n  }\r\n  if (isAuth[0] === false) {\r\n    try {\r\n      localStorage.removeItem('token');\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render={props => {\r\n          return <Redirect to='/login' />;\r\n        }}\r\n      ></Route>\r\n    );\r\n  }\r\n  if (isAuth[0] === null) {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React from 'react';\r\nimport { HashRouter as Router, Switch, Route } from 'react-router-dom';\r\nimport './App.css';\r\nimport RoomView from './components/pages/rooms/room/RoomView';\r\nimport Landing from './components/pages/landing/Landing';\r\nimport Login from './components/pages/landing/Login';\r\nimport Register from './components/pages/landing/Register';\r\nimport Rooms from './components/pages/rooms/Rooms';\r\nimport ProtectedRoute from './components/ProtectedRoute';\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <div className='App'>\r\n      <Router>\r\n        <Switch>\r\n          <Route exact path='/' component={Landing} />\r\n          <Route path='/login' component={Login} />\r\n          <Route path='/register' component={Register} />\r\n          <ProtectedRoute exact path='/rooms' component={Rooms} />\r\n          <ProtectedRoute path='/rooms/:name' component={RoomView} />\r\n        </Switch>\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}